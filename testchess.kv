<WindowMain>:
  name: "main"
  BoxLayout:
    orientation: "vertical"
    Label:
      text: 'Seleccione el nivel'
    Button:
      text: "Fundamentos"
      on_release: app.root.current= 'levels'; app.root.get_screen('levels').level= 0; app.root.get_screen('levels').load_levels(0)
    Button:
      text: "Principiante"
      on_release: app.root.current= 'levels'; app.root.get_screen('levels').level= 1; app.root.get_screen('levels').load_levels(1)
    Button:
      text: "Aficionado"
      on_release: app.root.current= 'levels'; app.root.get_screen('levels').level= 2; app.root.get_screen('levels').load_levels(2)

<WindowLevels>:
  name: "levels"
  id: levels
  BoxLayout:
    orientation: "vertical"
    Label:
      text: 'Seleccione un test'
    GridLayout:
      rows: 2
      Button:
        id: l1
        text: "Test 1"
        on_release: app.root.current= 'question'; app.root.get_screen('question').load_testfile(levels.level, sublevel=1)
      Button:
        id: l2
        text: "Test 2"
        on_release: app.root.current= 'question'; app.root.get_screen('question').load_testfile(levels.level, sublevel=2)
      Button:
        id: l3
        text: "Test 3"
        on_release: app.root.current= 'question'; app.root.get_screen('question').load_testfile(levels.level, sublevel=3)
      Button:
        id: l4
        text: "Test 4"
        on_release: app.root.current= 'question'; app.root.get_screen('question').load_testfile(levels.level, sublevel=4)
      Button:
        id: l5
        text: "Test 5"
        on_release: app.root.current= 'question'; app.root.get_screen('question').load_testfile(levels.level, sublevel=5)
      Button:
        id: l6
        text: "Test 6"
        on_release: app.root.current= 'question'; app.root.get_screen('question').load_testfile(levels.level, sublevel=6)

<TCCheckBox@CheckBox>:
  color: 1, 1, 1, 1

<TCLabel@ButtonBehavior+Label>:
  text_size: self.size
  color: 1, 1, 1, 1

<WindowQuestion>:
  name: "question"
  r1: chk_r1
  r2: chk_r2
  r3: chk_r3
  r4: chk_r4

  BoxLayout:
    orientation: "vertical"

    BoxLayout:
      pos_hint: {"center_x": .5, "center_y": .5}
      size_hint_y: .45
    BoxLayout:
      orientation: "vertical"
      spacing: 5
      size_hint_y: .55
      BoxLayout:
        size_hint_y: .28
        padding: 10
        Label:
          id: enunciado
          text_size: self.size
          halign: 'left'
          valign: 'top'
      GridLayout:
        cols: 2
        size_hint_y: .6
        TCCheckBox:
          group: "r"
          id: chk_r1
          size_hint_x: 0.12
        TCLabel:
          id: text_r1
          text_size: self.size
          valign: 'middle'
          on_press: chk_r1._do_press()
        TCCheckBox:
          group: "r"
          id: chk_r2
          size_hint_x: 0.12
        TCLabel:
          id: text_r2
          text_size: self.size
          valign: 'middle'
          on_press: chk_r2._do_press()
        TCCheckBox:
          group: "r"
          id: chk_r3
          size_hint_x: 0.12
        TCLabel:
          id: text_r3
          text_size: self.size
          valign: 'middle'
          on_press: chk_r3._do_press()
        TCCheckBox:
          group: "r"
          id: chk_r4
          size_hint_x: 0.12
        TCLabel:
          id: text_r4
          text_size: self.size
          valign: 'middle'
          on_press: chk_r4._do_press()
      BoxLayout:
        orientation: "horizontal"
        size_hint_y: .12
        Button:
          text: "Inicio"
          on_release: app.root.current = "main"
        Button:
          text: "Evaluar"
          on_press: app.root.current= 'feedback'; app.root.get_screen('feedback').evaluar_pregunta(app.root.get_screen('question').set_answer(), app.root.get_screen('question').test)

<WindowFeedback>:
  name: "feedback"
  BoxLayout:
    orientation: "vertical"
    Label:
      id: eval
      text: 'Evaluaci√≥n'
    Button:
      text: "Continuar"
      on_release: app.root.current= 'question'; app.root.get_screen('question').load_question()

<WindowEndTest>:
  name: "endtest"
  #result: id_result
  BoxLayout:
    orientation: "vertical"
    Label:
      text: 'Puntaje obtenido:'
    Label:
      id: id_result
      text: 'Puntos'
    Button:
      text: "Inicio"
      on_release: app.root.current = "main"

<SvgWidget>:
  do_rotation: False
